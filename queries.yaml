constraints:
  - |
    CREATE CONSTRAINT person_name_unique IF NOT EXISTS
    FOR (p:Person) REQUIRE p.name IS UNIQUE
  - |
    CREATE CONSTRAINT company_name_unique IF NOT EXISTS
    FOR (c:Company) REQUIRE c.name IS UNIQUE

create_seed : |
    CREATE (a:Person {name:'Iria', age:27, education:'Physics'})
    CREATE (b:Person {name:'Guillermo', age:26, education:'Industrial Engineering'})
    CREATE (c:Person {name:'Gabriela', age:26, education:'Physics'})
    CREATE (d:Person {name:'Paula', age:25, education:'Computer Engineering'})
    CREATE (e:Person {name:'Cristina', age:27, education:'Physics'})
    CREATE (indra:Company {name:'Indra', industry:'Engineering'})
    CREATE (ciemat:Company {name:'CIEMAT', industry:'Scientific Research'})
    CREATE (cbm:Company {name:'CBM', industry:'Scientific Research'})
    CREATE (a)-[:KNOWS]->(b)
    CREATE (a)-[:KNOWS]->(c)
    CREATE (a)-[:KNOWS]->(d)
    CREATE (a)-[:KNOWS]->(e)
    CREATE (b)-[:KNOWS]->(d)
    CREATE (c)-[:KNOWS]->(e)
    CREATE (a)-[:WORKS_AT {since:2025}]->(indra)
    CREATE (b)-[:WORKS_AT {since:2023}]->(indra)
    CREATE (c)-[:WORKS_AT {since:2023}]->(ciemat)
    CREATE (d)-[:WORKS_AT {since:2024}]->(indra)
    CREATE (e)-[:WORKS_AT {since:2025}]->(cbm)
    
match_person : |
    MATCH (p:Person) 
    RETURN p.name as name, p.age as age, p.education as education
    ORDER BY age

match_company : |
    MATCH (c:Company) 
    RETURN c.name as company_name, c.industry as industry
    ORDER BY industry

match_adjacency : |
    MATCH (a:Person)-[:KNOWS]-(b:Person), (a)-[:WORKS_AT]->(c:Company)
    RETURN a.name AS person, collect(b.name) AS knows, c.name AS works_at
    ORDER BY person


add_descriptions :
    - |
        MATCH (p:Person)
        SET p.description = p.name + " is " + toString(p.age) + " years old and studied " + p.education
    - |
        MATCH (c:Company)
        SET c.description = c.name + " operates in the " + c.industry + " industry."
    
    - |
        MATCH (p:Person {name:"Iria"})
        SET p.appearance = "Iria has blue eyes and long brunette and wavy hair. She likes to paint her nails in red or purple colours. She usually wears long earrings."
    - |
        MATCH (p:Person {name:"Guillermo"})
        SET p.appearance = "Guillermo has brown eyes and short hair. He has a very fancy shirt that he takes to all important events. He shaved his head this summer."
    - |
        MATCH (p:Person {name:"Gabriela"})
        SET p.appearance = "Gabriela has long curly hair with babylights. She's petite and likes to wear hippie-style clothes."
    - |
        MATCH (p:Person {name:"Paula"})
        SET p.appearance = "Paula short hair in a wolfcut style. She wears long and wide pants and sneakers to the laboratory."
    - |
        MATCH (p:Person {name:"Cristina"})
        SET p.appearance = "Cristina has brown eyes and very long straight brunette hair. She usually wears scarfs to style her hair and long skirts. "
    
    - |
        MATCH (c:Company {name:"Indra"})
        SET c.summary = "Indra Group is a holding company that promotes technological progress. It includes Indra, one of the main global defense, air traffic and space companies; and Minsait, leading digital transformation and information technologies in Spain and Latin America. "
    - |
        MATCH (c:Company {name:"CIEMAT"})
        SET c.summary = "The CIEMAT (Centro de Investigaciones Energéticas, Medioambientales y Tecnológicas) is a public research organization attached to the Ministry of Science, Innovation and Universities through the General Secretariat for Research. It occupies an intermediate position in the chain that runs from the creation of basic knowledge to industrial application, so its activities always seek to serve as a bridge between R&D&I and objectives of social interest."
    - |
        MATCH (c:Company {name:"CBM"})
        SET c.summary = "The CBM is a joint research centre, hosting researchers belonging to the Spanish Higher Research Council (CSIC) and the Universidad Autónoma de Madrid (UAM). Founded in 1975, the CBM is one of the largest Spanish multidisciplinary research centres in biomedicine, with expertise in molecular biology, biochemistry, genetics and genomics in several research areas: immunology, virology and microbiology, neuroscience, and cell and developmental biology."


delete_all : "MATCH (n) DETACH DELETE n"